Jordan form J:
[[2. 1. 0. 0. 0. 0.]
 [0. 2. 1. 0. 0. 0.]
 [0. 0. 2. 1. 0. 0.]
 [0. 0. 0. 2. 0. 0.]
 [0. 0. 0. 0. 2. 1.]
 [0. 0. 0. 0. 0. 2.]]

Random invertible matrix P:
[[-1  0 -1  0 -1 -1]
 [-1  0  0  0  0 -1]
 [ 0 -1 -1  0  0  0]
 [ 0  0 -1 -1  0  0]
 [ 0  0  0 -1  0  0]
 [ 0  0  0 -1  0 -1]]

Inverse of P:
[[ 0. -1.  0.  0. -1.  1.]
 [ 0.  0. -1.  1. -1.  0.]
 [ 0.  0.  0. -1.  1.  0.]
 [ 0.  0.  0.  0. -1.  0.]
 [-1.  1.  0.  1. -1.  0.]
 [ 0.  0.  0.  0.  1. -1.]]

Final matrix A (upper triangular):
[[ 2.  0.  1. -1.  1.  1.]
 [ 0.  2.  1. -1.  1.  0.]
 [ 0.  0.  2.  1.  0.  0.]
 [ 0.  0.  0.  2.  1.  0.]
 [ 0.  0.  0.  0.  2.  0.]
 [ 0.  0.  0.  0.  0.  2.]]
Aliassing
https://www.youtube.com/shorts/fAbB6vPJI98?feature=share
---
# Oscillators and Clock Sources in Microcontrollers

---

## 1. What is an Oscillator?

- An **oscillator** is an electronic circuit that **generates a repetitive clock signal** (pulse train) without needing an external clock input.
- Types of oscillators commonly used:
  - **Crystal Oscillator**
  - **RC Oscillator (Resistor-Capacitor)**
  - **LC Oscillator (Inductor-Capacitor)**

---

## 2. How RC Oscillators Work

- The **RC network alone does not generate pulses**.
- It works as part of a **feedback loop with an active component** (transistor, inverter, Schmitt trigger).
- The **capacitor charges and discharges** through the resistor, causing voltage ramps.
- The active device **switches output state** when capacitor voltage crosses thresholds.
- This cycle creates a **square wave (clock pulses)**.
- Frequency depends on **values of R and C**.
  
> **RC Oscillator characteristics:**
> - Simple, low-cost
> - Fast startup
> - Low accuracy (frequency drifts with temperature and voltage)
> - Used for low-power modes, watchdog timers, or backup clocks

---

## 3. Types of Oscillators and Their Typical Uses

| Oscillator Type | Usage Context                                 | Accuracy  | Power Consumption | Cost     |
| --------------- | --------------------------------------------- | --------- | ----------------- | -------- |
| **Crystal**     | CPU system clock, Wi-Fi sync, USB, RTC        | Very High | Medium            | Medium   |
| **RC**          | Internal backup/startup clock, timers         | Low       | Very Low          | Very Low |
| **LC**          | RF frequency generation, some internal clocks | Medium    | Medium            | Low      |

- **Crystal Oscillator:**  
  Provides a **stable and precise clock** for CPU and communication interfaces (Wi-Fi, Bluetooth, USB).
- **RC Oscillator:**  
  Used when **cost and power** are more important than accuracy, e.g., startup clocks or watchdog timers.
- **LC Oscillator:**  
  Often found in RF circuits or when crystals are impractical.

---

## 4. Oscillator Usage for CPU Instruction Execution

- The **CPU executes instructions synchronized to the main system clock**.
- The **main system clock is generated by a high-accuracy crystal oscillator**.
- This is because:
  - CPU timing requires **high stability and precision**.
  - Crystal oscillators operate at **high frequencies** (e.g., 16 MHz, 40 MHz) necessary for CPU speed.
  - RC oscillators are **not suitable** due to poor accuracy and stability.

> **Example:**  
> ESP32 uses an **external 40 MHz crystal oscillator** as the CPU clock source.

---

## 5. Summary Table for CPU Clock Source

| Clock Source       | Used for CPU Instruction Execution? | Notes                            |
|--------------------|------------------------------------|---------------------------------|
| **Crystal Oscillator** | ✅ Yes                           | Stable, precise, main clock     |
| **RC Oscillator**      | ❌ No                            | Only startup or backup clock    |
| **LC Oscillator**      | ❌ Rarely                        | Sometimes in RF or special uses |

---

# Key Takeaways

- **Oscillators generate clock pulses internally without external input.**
- **RC oscillators rely on charging/discharging capacitor in feedback loop with active devices.**
- **Crystal oscillators provide the precision needed for CPU and communication clocks.**
- **Microcontrollers often include multiple oscillators for different power/performance trade-offs.**

---
## Flash ADC
- https://youtu.be/NASkjo7s8f4
- We use priority encoder instead of normal encorder.